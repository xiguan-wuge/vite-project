import{t as g}from"./index.e92ba570.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{d as y,g as a,o as k,a as l,c as r,b as x,F as M,e as C,m as L,t as D}from"./index.2e50bfa5.js";const H={key:0,class:"no-more"},b=y({__name:"virtualList",setup(B){const s=new Array(2e4).fill(1).map((e,t)=>t+1),p=5,v=a([]),c=a(null),i=a(null),f=a(0),_=a(0),n=50,u=a(!1),h=s.length*n,d=()=>{const e=Math.floor(c.value.scrollTop/n)+1;console.log("offsetCount",e);const t=Math.max(0,e-p);console.log("start",t);const o=Math.min(s.length,e+_.value+p);console.log("end-------",o),o===s.length?u.value=!0:u.value=!1;const m=t*n;i.value.style.marginTop=m+"px",i.value.style.height=h-m+"px",v.value=s.slice(t,o)};return k(()=>{const e=c.value;if(!e)return;f.value=e.clientHeight,_.value=Math.floor(f.value/n);const t=g(()=>{d()},60);e.addEventListener("scroll",t),d()}),(e,t)=>(l(),r("div",{class:"wrapper",ref_key:"wrapper",ref:c},[x("div",{class:"content",ref_key:"content",ref:i},[(l(!0),r(M,null,C(v.value,o=>(l(),r("div",{key:o,class:"item"},D(o),1))),128)),u.value?(l(),r("p",H,"no more!")):L("",!0)],512)],512))}});var N=w(b,[["__scopeId","data-v-76c2c854"]]);export{N as default};
