import{t as g}from"./index.e92ba570.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import{d as x,f as a,o as k,a as n,c as l,b as M,F as w,e as C,l as L,t as D}from"./index.1b73f85f.js";const H={key:0,class:"no-more"},d=5,r=50,B=x({__name:"virtualList",setup(F){const s=new Array(2e4).fill(1).map((e,t)=>t+1),p=a([]),c=a(null),i=a(null),v=a(0),f=a(0),u=a(!1),h=s.length*r,_=()=>{const e=Math.floor(c.value.scrollTop/r)+1;console.log("offsetCount",e);const t=Math.max(0,e-d);console.log("start",t);const o=Math.min(s.length,e+f.value+d);console.log("end-------",o),o===s.length?u.value=!0:u.value=!1;const m=t*r;i.value.style.marginTop=m+"px",i.value.style.height=h-m+"px",p.value=s.slice(t,o)};return k(()=>{const e=c.value;if(!e)return;v.value=e.clientHeight,f.value=Math.floor(v.value/r);const t=g(()=>{_()},60);e.addEventListener("scroll",t),_()}),(e,t)=>(n(),l("div",{class:"wrapper",ref_key:"wrapper",ref:c},[M("div",{class:"content",ref_key:"content",ref:i},[(n(!0),l(w,null,C(p.value,o=>(n(),l("div",{key:o,class:"item"},D(o),1))),128)),u.value?(n(),l("p",H,"no more!")):L("",!0)],512)],512))}});var N=y(B,[["__scopeId","data-v-76c2c854"]]);export{N as default};
